(this["webpackJsonpmoney-control"]=this["webpackJsonpmoney-control"]||[]).push([[0],{286:function(e,t,n){},427:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),o=n.n(c),i=(n(286),n(48)),s=n.n(i),l=n(31),b=n(79),j=n(18),d=n(15),u=n(13),p=n(179),O=(n(430),n(288),n(429),p.a.initializeApp({apiKey:"AIzaSyB8mOz9VkGizAZvyZCWOnMyDhETCi8o5WE",authDomain:"moneycontrol-eed33.firebaseapp.com",projectId:"moneycontrol-eed33",storageBucket:"moneycontrol-eed33.appspot.com",messagingSenderId:"176388755167",appId:"1:176388755167:web:cfff45c60f74d7a322a36a"})),x=O.firestore(),h=O.auth(),m=(O.storage(),{entries:x.collection("entries"),formatDoc:function(e){return Object(l.a)({id:e.id},e.data())},getCurrentTimestamp:p.a.firestore.FieldValue.serverTimestamp}),g=n(3),f=Object(a.createContext)();function v(){return Object(a.useContext)(f)}function y(e){var t=e.children,n=Object(a.useState)(),r=Object(j.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(!0),s=Object(j.a)(i,2),l=s[0],b=s[1];Object(a.useEffect)((function(){return h.onAuthStateChanged((function(e){o(e),b(!1)}))}),[]);var d={currentUser:c,signUp:function(e,t){return h.createUserWithEmailAndPassword(e,t)},signIn:function(e,t){return h.signInWithEmailAndPassword(e,t)},signOut:function(){return h.signOut()},updateEmail:function(e){return c.updateEmail(e)},updatePassword:function(e){return c.updatePassword(e)},resetPassword:function(e){return h.sendPasswordResetEmail(e)}};return Object(g.jsx)(f.Provider,{value:d,children:!l&&t})}var w,k,C=n(35),S=n(32),F=n(497),P=n(483),A=n(432),I=n(67),E=n.n(I),q=n(256),D=n.n(q),T=n(157),B=n(468),z=n(431),U=n(472),L=n(234),N=n.n(L),M=n(183),R=n.n(M),W=Object(u.b)(B.a)((function(e){return{color:e.color}})),J=Object(u.b)(B.a)(w||(w=Object(d.a)(["\n  flex: 1 1 0px;\n"]))),K=function(e){var t=e.entry;return Object(g.jsxs)(z.a,{divider:!0,children:[Object(g.jsx)(J,{children:t.category}),Object(g.jsx)(J,{children:t.note}),Object(g.jsx)(J,{children:t.date}),Object(g.jsxs)(W,{color:"income"===t.type?"#29C481":"#D1513B",style:{flex:"1 1 0px"},children:[t.amount," PLN"]}),"income"===t.type?Object(g.jsx)(U.a,{component:S.b,color:"primary",to:{pathname:"/add-entry",state:{entry:t,operation:"Update",type:"income",options:["Work","Gifts","Other"]}},children:Object(g.jsx)(R.a,{})}):Object(g.jsx)(U.a,{component:S.b,color:"primary",to:{pathname:"/add-entry",state:{entry:t,operation:"Update",type:"expense",options:["Food","Transport","Accomodation","Entertainment","Other"]}},children:Object(g.jsx)(R.a,{})}),Object(g.jsx)(U.a,{onClick:function(){m.entries.doc(t.id).delete()},children:Object(g.jsx)(N.a,{color:"secondary"})})]})},V=Object(u.b)(T.a)(k||(k=Object(d.a)(["\n  margin-top: 16px;\n  margin-bottom: 22px;\n"]))),G=function(e){var t=e.entries;return Object(g.jsx)(g.Fragment,{children:0===t.length?Object(g.jsx)(V,{children:"No current records"}):t.map((function(e){return Object(g.jsx)(K,{entry:e},e.id)}))})},H=n(473),Z=n(474),Q=n(476),X=n(235),Y=n.n(X),$=n(475),_=Object(H.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));function ee(e){var t=e.children,n=_(),a=Object(Z.a)({disableHysteresis:!0,threshold:100});return Object(g.jsx)($.a,{in:a,children:Object(g.jsx)("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root,children:t})})}function te(){return Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(ee,{children:Object(g.jsx)(Q.a,{color:"primary",size:"small","aria-label":"scroll back to top",style:{backgroundColor:"#156a77"},children:Object(g.jsx)(Y.a,{})})})})}var ne,ae,re,ce=n(236),oe=n.n(ce),ie=n(237),se=n.n(ie),le=[{name:"January",sequence:"01"},{name:"February",sequence:"02"},{name:"March",sequence:"03"},{name:"April",sequence:"04"},{name:"May",sequence:"05"},{name:"June",sequence:"06"},{name:"July",sequence:"07"},{name:"August",sequence:"08"},{name:"September",sequence:"08"},{name:"October",sequence:"10"},{name:"November",sequence:"11"},{name:"December",sequence:"12"}],be=u.b.div(ne||(ne=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),je=Object(u.b)(U.a)(ae||(ae=Object(d.a)(["\n  background-color: #156a77;\n  color: white;\n  &:hover {\n    background-color: gray;\n  }\n"]))),de=Object(u.b)(T.a)(re||(re=Object(d.a)(["\n  color: #156a77;\n  font-size: 18px;\n  font-weight: bold;\n  width: 100px;\n"]))),ue=function(e){var t=e.currentMonth,n=e.handleClickNext,a=e.handleClickPrev;return Object(g.jsxs)(be,{children:[Object(g.jsx)(je,{onClick:a,disabled:1===t&&!0,size:"small",style:{marginLeft:0},children:Object(g.jsx)(oe.a,{fontSize:"default"})}),Object(g.jsx)(de,{children:le[t-1].name}),Object(g.jsx)(je,{onClick:n,disabled:12===t&&!0,size:"small",children:Object(g.jsx)(se.a,{fontSize:"default"})})]})},pe=n(111),Oe=n(495),xe=n(249),he=n(252),me=n(128),ge=["#00D922","#0088FE","#FB1616","#9F6AFF","#FF7515","#00C49F","#FFBB28","#FF8042","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB"],fe=Math.PI/180,ve=function(e){var t=e.cx,n=e.cy,a=e.midAngle,r=e.innerRadius,c=e.outerRadius,o=e.percent,i=r+.5*(c-r),s=t+i*Math.cos(-a*fe),l=n+i*Math.sin(-a*fe);return Object(g.jsx)("text",{x:s,y:l,fill:"black",textAnchor:s>t?"start":"end",dominantBaseline:"central",children:"".concat((100*o).toFixed(0),"%")})};function ye(e){var t=function(e,t,n){var a=e.reduce((function(e,n){var a=function(e,t){return t.reduce((function(t,n){return t+e[n]}),"")}(n,t);return e=Object.keys(e).includes(a)?Object(l.a)(Object(l.a)({},e),{},Object(pe.a)({},a,e[a].concat(n))):Object(l.a)(Object(l.a)({},e),{},Object(pe.a)({},a,[n]))}),{});return Object.values(a).map((function(e){var a=e.reduce(n,{}),r=t.reduce((function(t,n){return t=Object(l.a)(Object(l.a)({},t),{},Object(pe.a)({},n,e[0][n]))}),{});return a=Object(l.a)(Object(l.a)({},r),a)}))}(e.entries,["category"],(function(e,t){return e.count=1+(e.count||0),e.amount=+t.amount+(e.amount||0),e})).map((function(e){return{name:e.category,value:parseInt(e.amount)}}));return Object(g.jsxs)(Oe.a,{width:400,height:280,children:[Object(g.jsx)(xe.a,{data:t,cx:200,cy:120,labelLine:!1,legendType:"square",label:ve,outerRadius:100,fill:"#8884d8",dataKey:"value",children:t.map((function(e,t){return Object(g.jsx)(he.a,{fill:ge[t%ge.length]},"cell-".concat(t))}))}),Object(g.jsx)(me.a,{verticalAlign:"top",height:28})]})}var we=n(496),ke=n(255),Ce=n.n(ke);function Se(e){var t=e.error,n=r.a.useState(!0),a=Object(j.a)(n,2),c=a[0],o=a[1],i=function(e,t){"clickaway"!==t&&o(!1)};return Object(g.jsx)("div",{children:Object(g.jsx)(we.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:c,autoHideDuration:6e3,onClose:i,message:t,action:Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)(A.a,{color:"secondary",size:"small",onClick:i,children:"exit"}),Object(g.jsx)(U.a,{size:"small","aria-label":"close",color:"inherit",onClick:i,children:Object(g.jsx)(Ce.a,{fontSize:"small"})})]})})})}var Fe,Pe,Ae,Ie,Ee,qe,De,Te,Be,ze,Ue=n(482),Le=Object(u.b)(A.a)((function(e){return{background:e.background,color:"white"}})),Ne=Object(u.b)(Ue.a)(Fe||(Fe=Object(d.a)(["\n  color: #156a77;\n"]))),Me=u.b.div(Pe||(Pe=Object(d.a)([""]))),Re=function(e){var t=e.setter,n=Object(a.useState)("all"),r=Object(j.a)(n,2),c=r[0],o=r[1];return Object(g.jsx)(Me,{value:c,onChange:function(e){o(e)},children:Object(g.jsxs)(Ne,{color:"primary","aria-label":"outlined primary button group",children:[Object(g.jsx)(Le,{onClick:function(){t("all"),o("all")},variant:"contained",background:"all"===c?"#156a77":"#808080b3",style:{marginRight:0},children:"All"}),Object(g.jsx)(Le,{onClick:function(){t("incomes"),o("incomes")},variant:"contained",background:"incomes"===c?"#156a77":"#808080b3",style:{marginRight:0},children:"Incomes"}),Object(g.jsx)(Le,{onClick:function(){t("expenses"),o("expenses")},variant:"contained",background:"expenses"===c?"#156a77":"#808080b3",style:{marginRight:0},children:"Expenses"})]})})},We=Object(u.b)(T.a)(Ae||(Ae=Object(d.a)(["\n  color: ",";\n  border: 1px solid ",";\n\n  font-size: 18px;\n  text-transform: uppercase;\n  width: 55%;\n  margin: 0 auto;\n  margin-bottom: 16px;\n  padding-top: 3.5px;\n  padding-bottom: 3.5px;\n  border-radius: 4px;\n"])),(function(e){return e.theme.main}),(function(e){return e.theme.main})),Je={main:"#156a77"},Ke={main:"#D1513B"},Ve=function(e){var t=e.data,n=t.filter((function(e){return"expense"===e.type})).map((function(e){return e.amount})).reduce((function(e,t){return parseInt(e)+parseInt(t)}),0),a=t.filter((function(e){return"income"===e.type})).map((function(e){return e.amount})).reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)-n;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(u.a,{theme:a>=0?Je:Ke,children:Object(g.jsxs)(We,{style:{fontSize:"18px",textTransform:"uppercase",width:"55%",margin:"0 auto",marginBottom:"16px",paddingTop:"3.5px",paddingBottom:"3.5px",borderRadius:"4px"},children:["Balance: ",a," PLN"]})})})},Ge=Object(u.b)(F.a)(Ie||(Ie=Object(d.a)(["\n  background-color: #156a77;\n  margin-right: 10px;\n"]))),He=u.b.div(Ee||(Ee=Object(d.a)(["\n  display: flex;\n  align-items: center;\n"]))),Ze=Object(u.b)(P.a)(qe||(qe=Object(d.a)(["\n  border-radius: 6px;\n  box-shadow: 0px 0px 6px 1px #156a77c7;\n  width: 50% !important;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  & > * {\n    margin: 2px;\n  }\n  button {\n    margin: 16px;\n  }\n"]))),Qe=Object(u.b)(A.a)(De||(De=Object(d.a)(["\n  background-color: #156a77;\n  padding-left: 30px;\n  padding-right: 30px;\n"]))),Xe=u.b.div(Te||(Te=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 35px;\n  h3 {\n    margin: 0;\n    padding: 0px 0;\n    text-align: left;\n  }\n"]))),Ye=u.b.div(Be||(Be=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row;\n  width: auto;\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n"]))),$e=u.b.div(ze||(ze=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 55%;\n  align-items: stretch;\n  margin: 0 auto;\n"])));var _e,et,tt,nt,at,rt,ct,ot,it,st,lt,bt,jt,dt,ut,pt,Ot,xt,ht,mt,gt,ft,vt,yt,wt,kt,Ct=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],c=v(),o=c.currentUser,i=c.signOut,d=Object(C.g)(),u=Object(a.useState)([]),p=Object(j.a)(u,2),O=p[0],x=p[1],h=Object(a.useState)((new Date).getMonth()+1),f=Object(j.a)(h,2),y=f[0],w=f[1],k=Object(a.useState)("all"),F=Object(j.a)(k,2),P=F[0],A=F[1];function I(){return(I=Object(b.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,i();case 4:d.push("/signin"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}Object(a.useEffect)((function(){return m.entries.where("userId","==",o.uid).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),x(t)}))}),[o.uid]);var q=function(e){return O.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{dateArr:e.date.split("-")})})).filter((function(t){return parseInt(t.dateArr[1])===e}))},T=q(y).filter((function(e){return"all"===P||("incomes"===P?"income"===e.type:"expenses"===P&&"expense"===e.type)}));return Object(g.jsxs)(Ze,{children:[Object(g.jsxs)(Xe,{id:"back-to-top-anchor",children:[Object(g.jsxs)(He,{children:[Object(g.jsx)(Ge,{style:{backgroundColor:"#156a77",color:"white"},children:Object(g.jsx)(E.a,{})}),Object(g.jsx)("h3",{style:{color:"#156a77"},children:"Money Control"})]}),Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)(He,{children:o.email}),Object(g.jsx)(Qe,{style:{backgroundColor:"#156a77",color:"white",marginRight:0,height:"36px",marginTop:"16px",marginLeft:"16px"},variant:"contained",color:"inherit",component:S.b,to:"/update-profile",children:"profile"}),Object(g.jsx)(Qe,{style:{backgroundColor:"#156a77",color:"white",marginRight:0},variant:"contained",color:"inherit",onClick:function(){return I.apply(this,arguments)},children:"logout"})]})]}),n&&Object(g.jsx)(Se,{error:n}),Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(g.jsx)(ye,{entries:T})}),Object(g.jsx)(Ve,{data:q(y)}),Object(g.jsxs)($e,{children:[Object(g.jsxs)(Ye,{children:[Object(g.jsx)(Qe,{style:{backgroundColor:"#29C481"},variant:"contained",color:"primary",disableElevation:!0,component:S.b,to:{pathname:"/add-entry",state:{operation:"Add",type:"income",options:["Work","Gifts","Other"]}},children:"add income"}),Object(g.jsxs)(Qe,{style:{backgroundColor:"#156a77",color:"white"},variant:"contained",color:"primary",disableElevation:!0,component:S.b,to:{pathname:"/trends",state:{entries:O}},children:["trends ",Object(g.jsx)(D.a,{})]}),Object(g.jsx)(Qe,{style:{backgroundColor:"#D1513B"},variant:"contained",color:"secondary",disableElevation:!0,component:S.b,to:{pathname:"/add-entry",state:{operation:"Add",type:"expense",options:["Food","Transport","Accomodation","Entertainment","Other"]}},children:"add expense"})]}),Object(g.jsxs)(Ye,{children:[Object(g.jsx)(ue,{currentMonth:y,handleClickNext:function(){w((function(e){return e+1}))},handleClickPrev:function(){w((function(e){return e-1}))}}),Object(g.jsx)(Re,{setter:A})]})]}),Object(g.jsx)(G,{entries:T}),Object(g.jsx)(te,{})]})},St=n(494),Ft=n(481),Pt=n(486),At=Object(u.b)(A.a)(_e||(_e=Object(d.a)(["\n  margin: 10px;\n  background-color: #156a77;\n  :hover {\n    background-color: #13c1b6;\n  }\n"]))),It=Object(u.b)(F.a)(et||(et=Object(d.a)(["\n  background-color: #156a77;\n"]))),Et=Object(u.b)(St.a)(tt||(tt=Object(d.a)(["\n  margin: 1rem;\n  width: '25ch';\n"]))),qt=Object(u.b)(Ft.a)(nt||(nt=Object(d.a)(["\n  padding: 20px;\n  width: 280px;\n  margin: 20px auto;\n"]))),Dt=function(){var e=v().signIn,t=Object(a.useState)(""),n=Object(j.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(j.a)(o,2),l=i[0],d=i[1],u=Object(C.g)();function p(){return(p=Object(b.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,c(""),d(!0),t.next=6,e(n.target.email.value,n.target.password.value);case 6:u.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),c("Failed to sign in"),d(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return Object(g.jsx)(Pt.a,{align:"center",children:Object(g.jsxs)(qt,{elevation:10,children:[Object(g.jsxs)(Pt.a,{align:"center",children:[Object(g.jsx)(It,{children:Object(g.jsx)(E.a,{})}),Object(g.jsx)(T.a,{variant:"h4",children:"Sign In"})]}),r&&Object(g.jsx)(Se,{error:r}),Object(g.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(g.jsx)(Et,{id:"email",name:"email",label:"E-mail",variant:"outlined",helperText:"",required:!0}),Object(g.jsx)(Et,{id:"password",name:"password",label:"Password",variant:"outlined",type:"password",required:!0}),Object(g.jsxs)(Pt.a,{children:[Object(g.jsx)(At,{type:"submit",variant:"contained",color:"primary",disabled:l,children:"Sign In"}),Object(g.jsx)(T.a,{children:Object(g.jsx)(S.b,{to:"/forgot-password",children:"Forgot Password?"})}),Object(g.jsxs)(T.a,{children:["Need an account? ",Object(g.jsx)(S.b,{to:"/signup",children:"Sign Up"})]})]})]})]})})},Tt=Object(u.b)(A.a)(at||(at=Object(d.a)(["\n  margin: 10px;\n  background-color: #156a77;\n"]))),Bt=Object(u.b)(F.a)(rt||(rt=Object(d.a)(["\n  background-color: #156a77;\n"]))),zt=Object(u.b)(St.a)(ct||(ct=Object(d.a)(["\n  margin: 1rem;\n  width: '25ch';\n"]))),Ut=Object(u.b)(Ft.a)(ot||(ot=Object(d.a)(["\n  padding: 20px;\n  width: 280px;\n  margin: 20px auto;\n"]))),Lt=function(){var e=v().signUp,t=Object(a.useState)(""),n=Object(j.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(""),i=Object(j.a)(o,2),l=i[0],d=i[1],u=Object(a.useState)(!1),p=Object(j.a)(u,2),O=p[0],x=p[1],h=Object(C.g)();function m(e){return f.apply(this,arguments)}function f(){return(f=Object(b.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),d(""),n.target.password.value===n.target.passwordConfirm.value){t.next=4;break}return t.abrupt("return",d("Passwords do not match"));case 4:return t.prev=4,c(""),x(!0),t.next=9,e(n.target.email.value,n.target.password.value);case 9:h.push("/"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),c("Failed to create an account"),x(!1);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})))).apply(this,arguments)}return Object(g.jsx)(Pt.a,{align:"center",children:Object(g.jsxs)(Ut,{elevation:10,children:[Object(g.jsxs)(Pt.a,{align:"center",children:[Object(g.jsx)(Bt,{children:Object(g.jsx)(E.a,{})}),Object(g.jsx)(T.a,{variant:"h4",children:"Sign Up"})]}),r&&Object(g.jsx)(Se,{error:r}),Object(g.jsxs)("form",{onSubmit:m,children:[Object(g.jsx)(zt,{id:"email",name:"email",label:"E-mail",variant:"outlined",helperText:"",type:"email",required:!0}),Object(g.jsx)(zt,{id:"password",name:"password",label:"Password",variant:"outlined",type:"password",required:!0,helperText:l,error:!!l}),Object(g.jsx)(zt,{id:"password-confirm",name:"passwordConfirm",label:"Password Confirmation",variant:"outlined",type:"password",required:!0,helperText:l,error:!!l}),Object(g.jsxs)(Pt.a,{children:[Object(g.jsx)(Tt,{type:"submit",variant:"contained",color:"primary",onSubmit:m,disabled:O,children:"Sign Up"}),Object(g.jsxs)(T.a,{children:["Already have an account? ",Object(g.jsx)(S.b,{to:"/signin",children:"Sign In"})]})]})]})]})})},Nt=n(491),Mt=n(487),Rt=n(257),Wt=n.n(Rt),Jt=n(258),Kt=n.n(Jt),Vt=u.b.form(it||(it=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Gt=Object(u.b)(A.a)(st||(st=Object(d.a)(["\n  margin: 10px;\n  background-color: #156a77;\n  margin-top: 25px;\n  :hover {\n    background-color: #13c1b6;\n  }\n"]))),Ht=Object(u.b)(A.a)(lt||(lt=Object(d.a)(["\n  font-size: 12px;\n  color: white;\n  margin: 10px;\n  background-color: #d1513b;\n  :hover {\n    background-color: #13c1b6;\n  }\n"]))),Zt=Object(u.b)(St.a)(bt||(bt=Object(d.a)(["\n  margin-top: 1rem;\n  width: 248px;\n"]))),Qt=Object(u.b)(Ft.a)(jt||(jt=Object(d.a)(["\n  padding: 20px;\n  height: 50%;\n  width: 280px;\n  margin: 20px auto;\n"]))),Xt=Object(u.b)(Nt.a)(dt||(dt=Object(d.a)(["\n  width: 248px;\n  margin-top: 1rem;\n"]))),Yt=function(){var e=v().currentUser,t=Object(C.h)(),n=Object(C.g)(),r=Object(a.useState)("Add"===t.state.operation?"0":t.state.entry.category),c=Object(j.a)(r,2),o=c[0],i=c[1],s=Object(a.useState)("Add"===t.state.operation?"":t.state.entry.note),b=Object(j.a)(s,2),d=b[0],u=b[1],p=Object(a.useState)("Add"===t.state.operation?"":t.state.entry.amount),O=Object(j.a)(p,2),x=O[0],h=O[1],f=Object(a.useState)("Add"===t.state.operation?"":t.state.entry.date),y=Object(j.a)(f,2),w=y[0],k=y[1];return Object(g.jsx)(Pt.a,{align:"center",children:Object(g.jsxs)(Qt,{elevation:10,children:[Object(g.jsxs)(T.a,{variant:"h5",children:[t.state.operation," ",t.state.type]}),Object(g.jsxs)(Vt,{onSubmit:"Add"===t.state.operation?function(a){a.preventDefault(),m.entries.add({userId:e.uid,createdAt:m.getCurrentTimestamp(),type:t.state.type,date:a.target.date.value,amount:a.target.amount.value,note:a.target.note.value,category:a.target.category.value}),n.push("/")}:function(e){e.preventDefault(),m.entries.doc(t.state.entry.id).set(Object(l.a)(Object(l.a)({},t.state.entry),{},{category:o,note:d,amount:x,date:w})),n.push("/")},children:[Object(g.jsx)(Zt,{type:"date",name:"date",variant:"outlined",helperText:"",required:!0,value:w,onChange:function(e){k(e.target.value)},style:{marginBottom:"1rem"}}),Object(g.jsx)(Zt,{type:"number",name:"amount",label:"Amount",variant:"outlined",helperText:"Only numbers",required:!0,min:"0",value:x,onChange:function(e){h(e.target.value)}}),Object(g.jsx)(Zt,{type:"text",name:"note",label:"Note",variant:"outlined",helperText:"Optional",value:d,onChange:function(e){u(e.target.value)}}),Object(g.jsxs)(Xt,{value:o,onChange:function(e){i(e.target.value)},name:"category",required:!0,variant:"outlined",children:[Object(g.jsx)(Mt.a,{value:"0",disabled:!0,children:"--Category--"}),t.state.options.map((function(e,t){return Object(g.jsx)(Mt.a,{value:e,children:e},t)}))]}),Object(g.jsx)(Gt,{type:"submit",variant:"contained",color:"primary",endIcon:Object(g.jsx)(Wt.a,{}),children:"Submit"})]}),Object(g.jsx)(Ht,{type:"submit",variant:"contained",color:"secondary",component:S.b,to:"/",endIcon:Object(g.jsx)(Kt.a,{}),children:"Cancel"})]})})},$t=n(488),_t=n(489),en=n(490),tn=n(260),nn=n(261),an=n(131),rn=n(266),cn=function(e){var t=e.active,n=e.payload;e.label;return t&&n[0]?Object(g.jsxs)("div",{style:{backgroundColor:"white",padding:"5px",border:"1px solid #156a77",opacity:"75%"},children:[Object(g.jsx)("p",{children:n[0].payload.name}),Object(g.jsx)("p",{children:"incomes : ".concat(n[0].value," PLN")}),Object(g.jsx)("p",{children:"expenses : ".concat(n[1].value," PLN")}),Object(g.jsx)("p",{children:"balance: ".concat(n[0].payload.balance," PLN")})]}):null},on=function(e){var t=e.data;return Object(g.jsx)($t.a,{width:"100%",height:"100%",children:Object(g.jsxs)(_t.a,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Object(g.jsx)(en.a,{strokeDasharray:"3 3"}),Object(g.jsx)(tn.a,{dataKey:"month",label:{value:"Months",position:"insideBottomRight",offset:-5}}),Object(g.jsx)(nn.a,{label:{value:"Value (PLN)",angle:-90,position:"insideLeft",offset:0}}),Object(g.jsx)(an.a,{content:Object(g.jsx)(cn,{})}),Object(g.jsx)(me.a,{verticalAlign:"top",height:36}),Object(g.jsx)(rn.a,{type:"monotone",dataKey:"incomes",stroke:"green",activeDot:{r:6}}),Object(g.jsx)(rn.a,{type:"monotone",dataKey:"expenses",stroke:"red",activeDot:{r:6}})]})})},sn=Object(u.b)(A.a)(ut||(ut=Object(d.a)(["\n  margin: 10px;\n  background-color: #156a77;\n"]))),ln=Object(u.b)(T.a)(pt||(pt=Object(d.a)(["\n  color: #156a77;\n"]))),bn=Object(u.b)(Ft.a)(Ot||(Ot=Object(d.a)(["\n  padding: 20px;\n  height: 50vh;\n  width: 50%;\n  margin: 20px auto;\n  display: flex;\n  flex-direction: column;\n"]))),jn=function(){var e=Object(C.h)().state.entries,t=function(t,n,a){var r=function(t){return e.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{dateArr:e.date.split("-")})})).filter((function(e){return e.dateArr[1]===t}))}(n),c=r.filter((function(e){return"expense"===e.type})).map((function(e){return e.amount})).reduce((function(e,t){return parseInt(e)+parseInt(t)}),0),o=r.filter((function(e){return"income"===e.type})).map((function(e){return e.amount})).reduce((function(e,t){return parseInt(e)+parseInt(t)}),0);return{month:t,expenses:c,incomes:o,name:a,balance:o-c}};return Object(g.jsx)(Pt.a,{align:"center",children:Object(g.jsxs)(bn,{elevation:10,children:[Object(g.jsx)(Pt.a,{align:"center",children:Object(g.jsx)(ln,{variant:"h4",children:"Monthly Trends"})}),Object(g.jsx)(on,{data:le.map((function(e){return t(e.name.slice(0,3),e.sequence,e.name)}))}),Object(g.jsx)(Pt.a,{children:Object(g.jsx)(sn,{component:S.b,variant:"contained",color:"secondary",to:"/",children:"back"})})]})})},dn=n(262),un=Object(u.b)(A.a)(xt||(xt=Object(d.a)(["\n  margin: 10px;\n  background-color: #156a77;\n"]))),pn=Object(u.b)(F.a)(ht||(ht=Object(d.a)(["\n  background-color: #156a77;\n"]))),On=Object(u.b)(St.a)(mt||(mt=Object(d.a)(["\n  margin: 1rem;\n  width: '25ch';\n"]))),xn=Object(u.b)(Ft.a)(gt||(gt=Object(d.a)(["\n  padding: 20px;\n  width: 280px;\n  margin: 20px auto;\n"]))),hn=Object(u.b)(A.a)(ft||(ft=Object(d.a)(["\n  font-size: 12px;\n  color: white;\n  margin: 10px;\n  background-color: #d1513b;\n  :hover {\n    background-color: #13c1b6;\n  }\n"]))),mn=function(){var e=v(),t=e.currentUser,n=e.updateEmail,r=e.updatePassword,c=Object(a.useState)(""),o=Object(j.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(""),b=Object(j.a)(l,2),d=b[0],u=b[1],p=Object(a.useState)(!1),O=Object(j.a)(p,2),x=O[0],h=O[1],m=Object(C.g)();function f(e){if(e.preventDefault(),e.target.password.value!==e.target.passwordConfirm.value)return u("Passwords do not match");var a=[];h(!0),u(""),e.target.email.value!==t.email&&a.push((function(){return n(e.target.email.value)})),e.target.password.value&&a.push((function(){return r(e.target.password.value)}));(function e(t){if(0===t.length)return Promise.resolve();var n=Object(dn.a)(t),a=n[0],r=n.slice(1);return a().then((function(){return e(r)}))})(a).then((function(){m.push("/")})).catch((function(){s("Failed to update account"),h(!1)}))}return Object(g.jsx)(Pt.a,{align:"center",children:Object(g.jsxs)(xn,{elevation:10,children:[Object(g.jsxs)(Pt.a,{align:"center",children:[Object(g.jsx)(pn,{children:Object(g.jsx)(E.a,{})}),Object(g.jsx)(T.a,{variant:"h4",children:"Update Profile"})]}),i&&Object(g.jsx)(Se,{error:i}),Object(g.jsxs)("form",{onSubmit:f,children:[Object(g.jsx)(On,{id:"email",name:"email",label:"E-mail",variant:"outlined",helperText:"",type:"email",required:!0}),Object(g.jsx)(On,{id:"password",name:"password",label:"Password",variant:"outlined",type:"password",helperText:""===d?"Leave blank to keep the same":d,error:!!d}),Object(g.jsx)(On,{id:"password-confirm",name:"passwordConfirm",label:"Password Confirmation",variant:"outlined",type:"password",helperText:""===d?"Leave blank to keep the same":d,error:!!d}),Object(g.jsx)(Pt.a,{children:Object(g.jsx)(un,{type:"submit",variant:"contained",color:"primary",onSubmit:f,disabled:x,children:"Update Profile"})})]}),Object(g.jsx)(hn,{type:"submit",variant:"contained",color:"secondary",component:S.b,to:"/",children:"Cancel"})]})})},gn=Object(u.b)(A.a)(vt||(vt=Object(d.a)(["\n  margin: 10px;\n  background-color: #156a77;\n  :hover {\n    background-color: #13c1b6;\n  }\n"]))),fn=Object(u.b)(F.a)(yt||(yt=Object(d.a)(["\n  background-color: #156a77;\n"]))),vn=Object(u.b)(St.a)(wt||(wt=Object(d.a)(["\n  margin: 1rem;\n  width: '25ch';\n"]))),yn=Object(u.b)(Ft.a)(kt||(kt=Object(d.a)(["\n  padding: 20px;\n  width: 280px;\n  margin: 20px auto;\n"]))),wn=function(){var e=v().resetPassword,t=Object(a.useState)(""),n=Object(j.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(""),i=Object(j.a)(o,2),l=i[0],d=i[1],u=Object(a.useState)(!1),p=Object(j.a)(u,2),O=p[0],x=p[1];function h(){return(h=Object(b.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,d(""),c(""),x(!0),t.next=7,e(n.target.email.value);case 7:d("Check your inbox for further instructions"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),c("Failed to reset password"),x(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return Object(g.jsx)(Pt.a,{align:"center",children:Object(g.jsxs)(yn,{elevation:10,children:[Object(g.jsxs)(Pt.a,{align:"center",children:[Object(g.jsx)(fn,{children:Object(g.jsx)(E.a,{})}),Object(g.jsx)(T.a,{variant:"h4",children:"Reset Password"})]}),r&&Object(g.jsx)(Se,{error:r}),l&&Object(g.jsx)(Se,{error:l}),Object(g.jsxs)("form",{onSubmit:function(e){return h.apply(this,arguments)},children:[Object(g.jsx)(vn,{id:"email",name:"email",label:"E-mail",variant:"outlined",helperText:"",required:!0}),Object(g.jsxs)(Pt.a,{children:[Object(g.jsx)(gn,{type:"submit",variant:"contained",color:"primary",disabled:O,children:"Reset Password"}),Object(g.jsx)(T.a,{children:Object(g.jsx)(S.b,{to:"/signin",children:"Sign In"})}),Object(g.jsxs)(T.a,{children:["Need an account? ",Object(g.jsx)(S.b,{to:"/signup",children:"Sign Up"})]})]})]})]})})},kn=n(265),Cn=["component"];function Sn(e){var t=e.component,n=Object(kn.a)(e,Cn),a=v().currentUser;return Object(g.jsx)(C.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return a?Object(g.jsx)(t,Object(l.a)({},e)):Object(g.jsx)(C.a,{to:"/signin"})}}))}var Fn=n(492),Pn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,499)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(Fn.b,{injectFirst:!0,children:Object(g.jsx)(S.a,{basename:"/jfddr3-money-control-app",children:Object(g.jsx)(C.d,{children:Object(g.jsxs)(y,{children:[Object(g.jsx)(Sn,{exact:!0,path:"/",component:Ct}),Object(g.jsx)(Sn,{exact:!0,path:"/add-entry",component:Yt}),Object(g.jsx)(Sn,{exact:!0,path:"/trends",component:jn}),Object(g.jsx)(Sn,{path:"/update-profile",component:mn}),Object(g.jsx)(C.b,{path:"/signup",component:Lt}),Object(g.jsx)(C.b,{path:"/signin",component:Dt}),Object(g.jsx)(C.b,{path:"/forgot-password",component:wn})]})})})})}),document.getElementById("root")),Pn()}},[[427,1,2]]]);
//# sourceMappingURL=main.7cd348e9.chunk.js.map