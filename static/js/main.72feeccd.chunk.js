(this["webpackJsonpmoney-control"]=this["webpackJsonpmoney-control"]||[]).push([[0],{258:function(e,t,n){},401:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),o=n.n(c),i=(n(258),n(50)),s=n.n(i),d=n(44),j=n(94),l=n(19),b=n(23),u=n(22),p=n(166),O=(n(404),n(260),n(403),p.a.initializeApp({apiKey:"AIzaSyB8mOz9VkGizAZvyZCWOnMyDhETCi8o5WE",authDomain:"moneycontrol-eed33.firebaseapp.com",projectId:"moneycontrol-eed33",storageBucket:"moneycontrol-eed33.appspot.com",messagingSenderId:"176388755167",appId:"1:176388755167:web:cfff45c60f74d7a322a36a"})),h=O.firestore(),x=O.auth(),m=(O.storage(),{entries:h.collection("entries"),formatDoc:function(e){return Object(d.a)({id:e.id},e.data())},getCurrentTimestamp:p.a.firestore.FieldValue.serverTimestamp}),g=n(4),f=Object(a.createContext)();function y(){return Object(a.useContext)(f)}function v(e){var t=e.children,n=Object(a.useState)(),r=Object(l.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(!0),s=Object(l.a)(i,2),d=s[0],j=s[1];Object(a.useEffect)((function(){return x.onAuthStateChanged((function(e){o(e),j(!1)}))}),[]);var b={currentUser:c,signUp:function(e,t){return x.createUserWithEmailAndPassword(e,t)},signIn:function(e,t){return x.signInWithEmailAndPassword(e,t)},signOut:function(){return x.signOut()}};return Object(g.jsx)(f.Provider,{value:b,children:!d&&t})}var w,k,C,S,A,q,I,P=n(31),T=n(36),E=n(456),D=n(440),U=n(441),F=n(95),M=n.n(F),L=n(221),N=n.n(L),B=n(435),W=n(405),z=n(439),J=n(220),K=n.n(J),G=n(170),V=n.n(G),R=Object(u.a)(B.a)((function(e){return{color:e.color}})),Z=function(e){var t=e.entry;return Object(g.jsxs)(W.a,{divider:!0,children:[Object(g.jsx)(B.a,{children:t.category}),Object(g.jsx)(B.a,{children:t.note}),Object(g.jsx)(B.a,{children:t.date}),Object(g.jsxs)(R,{color:"income"===t.type?"green":"red",children:[t.amount," PLN"]}),"income"===t.type?Object(g.jsx)(z.a,{component:T.b,color:"primary",to:{pathname:"/add-entry",state:{entry:t,operation:"Update",type:"income",options:["Work","Gifts","Other"]}},children:Object(g.jsx)(V.a,{})}):Object(g.jsx)(z.a,{component:T.b,color:"primary",to:{pathname:"/add-entry",state:{entry:t,operation:"Update",type:"expense",options:["Food","Transport","Accomodation","Entertainment","Other"]}},children:Object(g.jsx)(V.a,{})}),Object(g.jsx)(z.a,{onClick:function(){m.entries.doc(t.id).delete()},children:Object(g.jsx)(K.a,{color:"secondary"})})]})},H=function(e){var t=e.entries;return Object(g.jsx)("ul",{children:t.map((function(e){return Object(g.jsx)(Z,{entry:e},e.id)}))})},Q=Object(u.a)(E.a)(w||(w=Object(b.a)(["\n  background-color: #156a77;\n  margin-right: 10px;\n"]))),X=u.a.div(k||(k=Object(b.a)(["\n  display: flex;\n  align-items: center;\n"]))),Y=Object(u.a)(D.a)(C||(C=Object(b.a)(["\n  border: 1px solid #000;\n  width: 50% !important;\n  text-align: center;\n  & > * {\n    margin: 2px;\n  }\n  button {\n    margin: 16px;\n  }\n"]))),$=Object(u.a)(U.a)(S||(S=Object(b.a)(["\n  background-color: #156a77;\n"]))),_=u.a.div(A||(A=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 35px;\n  h3 {\n    margin: 0;\n    padding: 0px 0;\n    text-align: left;\n  }\n"]))),ee=u.a.div(q||(q=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: row;\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n"]))),te=u.a.p(I||(I=Object(b.a)(["\n  color: red;\n"])));var ne,ae,re,ce,oe,ie,se,de,je,le,be,ue,pe,Oe,he,xe,me,ge,fe=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],c=y(),o=c.currentUser,i=c.signOut,b=Object(P.g)(),u=Object(a.useState)([]),p=Object(l.a)(u,2),O=p[0],h=p[1];function x(){return(x=Object(j.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,i();case 4:b.push("/signin"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){return m.entries.where("userId","==",o.uid).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id}))})),h(t)}))}),[o.uid]),Object(g.jsxs)(Y,{children:[Object(g.jsxs)(_,{id:"back-to-top-anchor",children:[Object(g.jsxs)(X,{children:[Object(g.jsx)(Q,{style:{backgroundColor:"#156a77",color:"white"},children:Object(g.jsx)(M.a,{})}),Object(g.jsx)("h3",{style:{color:"#156a77"},children:"Money Control"})]}),Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)(X,{children:o.email}),Object(g.jsx)($,{style:{backgroundColor:"#156a77",color:"white"},variant:"contained",color:"inherit",children:"profile"}),Object(g.jsx)($,{style:{backgroundColor:"#156a77",color:"white"},variant:"contained",color:"inherit",onClick:function(){return x.apply(this,arguments)},children:"logout"})]})]}),n&&Object(g.jsx)(te,{children:n}),Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(g.jsx)("div",{style:{width:"200px",height:"200px",border:"1px dashed black",borderRadius:"50%"},children:"Mock Pie Chart"})}),Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(g.jsx)("button",{children:"prev"}),Object(g.jsx)("h3",{children:"Mock Current Month"}),Object(g.jsx)("button",{children:"next"})]}),Object(g.jsx)("h3",{children:"Mock Balance: 0,00 PLN"}),Object(g.jsxs)(ee,{children:[Object(g.jsx)($,{style:{backgroundColor:"green"},variant:"contained",color:"primary",disableElevation:!0,component:T.b,to:{pathname:"/add-entry",state:{operation:"Add",type:"income",options:["Work","Gifts","Other"]}},children:"new income"}),Object(g.jsxs)($,{style:{backgroundColor:"#156a77",color:"white"},variant:"contained",color:"primary",disableElevation:!0,component:T.b,to:{pathname:"/trends",state:{entries:O}},children:["trends ",Object(g.jsx)(N.a,{})]}),Object(g.jsx)($,{style:{backgroundColor:"red"},variant:"contained",color:"secondary",disableElevation:!0,component:T.b,to:{pathname:"/add-entry",state:{operation:"Add",type:"expense",options:["Food","Transport","Accomodation","Entertainment","Other"]}},children:"new expense"})]}),Object(g.jsx)(H,{entries:O})]})},ye=n(455),ve=n(444),we=n(445),ke=n(145),Ce=Object(u.a)(U.a)(ne||(ne=Object(b.a)(["\n  margin: 10px;\n  background-color: #156a77;\n  :hover {\n    background-color: #13c1b6;\n  }\n"]))),Se=Object(u.a)(E.a)(ae||(ae=Object(b.a)(["\n  background-color: #156a77;\n"]))),Ae=Object(u.a)(ye.a)(re||(re=Object(b.a)(["\n  margin: 1rem;\n  width: '25ch';\n"]))),qe=Object(u.a)(ve.a)(ce||(ce=Object(b.a)(["\n  padding: 20px;\n  height: 50vh;\n  width: 280px;\n  margin: 20px auto;\n"]))),Ie=u.a.p(oe||(oe=Object(b.a)(["\n  color: red;\n"]))),Pe=function(){var e=y().signIn,t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(l.a)(o,2),d=i[0],b=i[1],u=Object(P.g)();function p(){return(p=Object(j.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,c(""),b(!0),t.next=6,e(n.target.email.value,n.target.password.value);case 6:u.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),c("Failed to sign in"),b(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return Object(g.jsx)(we.a,{align:"center",children:Object(g.jsxs)(qe,{elevation:10,children:[Object(g.jsxs)(we.a,{align:"center",children:[Object(g.jsx)(Se,{children:Object(g.jsx)(M.a,{})}),Object(g.jsx)(ke.a,{variant:"h4",children:"Sign In"})]}),r&&Object(g.jsx)(Ie,{children:r}),Object(g.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(g.jsx)(Ae,{id:"email",name:"email",label:"E-mail",variant:"outlined",helperText:"",required:!0}),Object(g.jsx)(Ae,{id:"password",name:"password",label:"Password",variant:"outlined",type:"password",required:!0}),Object(g.jsxs)(we.a,{children:[Object(g.jsx)(Ce,{type:"submit",variant:"contained",color:"primary",disabled:d,children:"Sign In"}),Object(g.jsxs)(ke.a,{children:["Need an account? ",Object(g.jsx)(T.b,{to:"/signup",children:"Sign Up"})]})]})]})]})})},Te=Object(u.a)(U.a)(ie||(ie=Object(b.a)(["\n  margin: 10px;\n  background-color: #156a77;\n"]))),Ee=Object(u.a)(E.a)(se||(se=Object(b.a)(["\n  background-color: #156a77;\n"]))),De=Object(u.a)(ye.a)(de||(de=Object(b.a)(["\n  margin: 1rem;\n  width: '25ch';\n"]))),Ue=Object(u.a)(ve.a)(je||(je=Object(b.a)(["\n  padding: 20px;\n  height: 50vh;\n  width: 280px;\n  margin: 20px auto;\n"]))),Fe=u.a.p(le||(le=Object(b.a)(["\n  color: red;\n"]))),Me=function(){var e=y().signUp,t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),d=i[0],b=i[1],u=Object(a.useState)(!1),p=Object(l.a)(u,2),O=p[0],h=p[1],x=Object(P.g)();function m(e){return f.apply(this,arguments)}function f(){return(f=Object(j.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),b(""),n.target.password.value===n.target.passwordConfirm.value){t.next=4;break}return t.abrupt("return",b("Passwords do not match"));case 4:return t.prev=4,c(""),h(!0),t.next=9,e(n.target.email.value,n.target.password.value);case 9:x.push("/"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),c("Failed to create an account"),h(!1);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})))).apply(this,arguments)}return Object(g.jsx)(we.a,{align:"center",children:Object(g.jsxs)(Ue,{elevation:10,children:[Object(g.jsxs)(we.a,{align:"center",children:[Object(g.jsx)(Ee,{children:Object(g.jsx)(M.a,{})}),Object(g.jsx)(ke.a,{variant:"h4",children:"Sign Up"})]}),r&&Object(g.jsx)(Fe,{children:r}),Object(g.jsxs)("form",{onSubmit:m,children:[Object(g.jsx)(De,{id:"email",name:"email",label:"E-mail",variant:"outlined",helperText:"",type:"email",required:!0}),Object(g.jsx)(De,{id:"password",name:"password",label:"Password",variant:"outlined",type:"password",required:!0,helperText:d,error:!!d}),Object(g.jsx)(De,{id:"password-confirm",name:"passwordConfirm",label:"Password Confirmation",variant:"outlined",type:"password",required:!0,helperText:d,error:!!d}),Object(g.jsxs)(we.a,{children:[Object(g.jsx)(Te,{type:"submit",variant:"contained",color:"primary",onSubmit:m,disabled:O,children:"Sign Up"}),Object(g.jsxs)(ke.a,{children:["Already have an account? ",Object(g.jsx)(T.b,{to:"/signin",children:"Sign In"})]})]})]})]})})},Le=n(453),Ne=n(446),Be=n(222),We=n.n(Be),ze=n(223),Je=n.n(ze),Ke=u.a.form(be||(be=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Ge=Object(u.a)(U.a)(ue||(ue=Object(b.a)(["\n  margin: 10px;\n  background-color: #156a77;\n  margin-top: 25px;\n  :hover {\n    background-color: #13c1b6;\n  }\n"]))),Ve=Object(u.a)(U.a)(pe||(pe=Object(b.a)(["\n  font-size: 12px;\n  color: white;\n  margin: 10px;\n  background-color: red;\n  :hover {\n    background-color: #13c1b6;\n  }\n"]))),Re=Object(u.a)(ye.a)(Oe||(Oe=Object(b.a)(["\n  margin: 1rem;\n  width: '25ch';\n"]))),Ze=Object(u.a)(ve.a)(he||(he=Object(b.a)(["\n  padding: 20px;\n  height: 50vh;\n  width: 280px;\n  margin: 20px auto;\n"]))),He=function(){var e=y().currentUser,t=Object(P.h)(),n=Object(P.g)(),r=Object(a.useState)("Add"===t.state.operation?"0":t.state.entry.category),c=Object(l.a)(r,2),o=c[0],i=c[1],s=Object(a.useState)("Add"===t.state.operation?"":t.state.entry.note),j=Object(l.a)(s,2),b=j[0],u=j[1],p=Object(a.useState)("Add"===t.state.operation?"":t.state.entry.amount),O=Object(l.a)(p,2),h=O[0],x=O[1],f=Object(a.useState)("Add"===t.state.operation?"":t.state.entry.date),v=Object(l.a)(f,2),w=v[0],k=v[1];return Object(g.jsx)(we.a,{align:"center",children:Object(g.jsxs)(Ze,{elevation:10,children:[Object(g.jsxs)(ke.a,{variant:"h5",children:[t.state.operation," ",t.state.type]}),Object(g.jsxs)(Ke,{onSubmit:"Add"===t.state.operation?function(a){a.preventDefault(),m.entries.add({userId:e.uid,createdAt:m.getCurrentTimestamp(),type:t.state.type,date:a.target.date.value,amount:a.target.amount.value,note:a.target.note.value,category:a.target.category.value}),n.push("/")}:function(e){e.preventDefault(),m.entries.doc(t.state.entry.id).set(Object(d.a)(Object(d.a)({},t.state.entry),{},{category:o,note:b,amount:h,date:w})),n.push("/")},children:[Object(g.jsx)(Re,{type:"date",name:"date",variant:"outlined",helperText:"",required:!0,value:w,onChange:function(e){k(e.target.value)}}),Object(g.jsx)(Re,{type:"number",name:"amount",label:"Amount",variant:"outlined",helperText:"Only numbers",required:!0,min:"0",value:h,onChange:function(e){x(e.target.value)}}),Object(g.jsx)(Re,{type:"text",name:"note",label:"Note",variant:"outlined",helperText:"Optional",value:b,onChange:function(e){u(e.target.value)}}),Object(g.jsxs)(Le.a,{value:o,onChange:function(e){i(e.target.value)},name:"category",required:!0,children:[Object(g.jsx)(Ne.a,{value:"0",disabled:!0,children:"--Category--"}),t.state.options.map((function(e,t){return Object(g.jsx)(Ne.a,{value:e,children:e},t)}))]}),Object(g.jsx)(Ge,{type:"submit",variant:"contained",color:"primary",endIcon:Object(g.jsx)(We.a,{}),children:"Submit"})]}),Object(g.jsx)(Ve,{type:"submit",variant:"contained",color:"secondary",component:T.b,to:"/",endIcon:Object(g.jsx)(Je.a,{}),children:"Cancel"})]})})},Qe=n(447),Xe=n(448),Ye=n(452),$e=n(239),_e=n(240),et=n(122),tt=n(119),nt=n(242),at=function(e){var t=e.active,n=e.payload;e.label;return t&&n[0]?Object(g.jsxs)("div",{style:{backgroundColor:"white",padding:"5px",border:"1px solid #156a77",opacity:"75%"},children:[Object(g.jsx)("p",{children:n[0].payload.name}),Object(g.jsx)("p",{children:"incomes : ".concat(n[0].value," PLN")}),Object(g.jsx)("p",{children:"expenses : ".concat(n[1].value," PLN")}),Object(g.jsx)("p",{children:"balance: ".concat(n[0].payload.balance," PLN")})]}):null},rt=function(e){var t=e.data;return Object(g.jsx)(Qe.a,{width:"100%",height:"100%",children:Object(g.jsxs)(Xe.a,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Object(g.jsx)(Ye.a,{strokeDasharray:"3 3"}),Object(g.jsx)($e.a,{dataKey:"month",label:{value:"Months",position:"insideBottomRight",offset:-5}}),Object(g.jsx)(_e.a,{label:{value:"Value (PLN)",angle:-90,position:"insideLeft",offset:0}}),Object(g.jsx)(et.a,{content:Object(g.jsx)(at,{})}),Object(g.jsx)(tt.a,{verticalAlign:"top",height:36}),Object(g.jsx)(nt.a,{type:"monotone",dataKey:"incomes",stroke:"green",activeDot:{r:6}}),Object(g.jsx)(nt.a,{type:"monotone",dataKey:"expenses",stroke:"red",activeDot:{r:6}})]})})},ct=[{name:"January",sequence:"01"},{name:"February",sequence:"02"},{name:"March",sequence:"03"},{name:"April",sequence:"04"},{name:"May",sequence:"05"},{name:"June",sequence:"06"},{name:"July",sequence:"07"},{name:"August",sequence:"08"},{name:"September",sequence:"08"},{name:"October",sequence:"10"},{name:"November",sequence:"11"},{name:"December",sequence:"12"}],ot=Object(u.a)(U.a)(xe||(xe=Object(b.a)(["\n  margin: 10px;\n  background-color: #156a77;\n"]))),it=Object(u.a)(ke.a)(me||(me=Object(b.a)(["\n  color: #156a77;\n"]))),st=Object(u.a)(ve.a)(ge||(ge=Object(b.a)(["\n  padding: 20px;\n  height: 50vh;\n  width: 50%;\n  margin: 20px auto;\n  display: flex;\n  flex-direction: column;\n"]))),dt=function(){var e=Object(P.h)().state.entries,t=function(t,n,a){var r=function(t){return e.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{dateArr:e.date.split("-")})})).filter((function(e){return e.dateArr[1]===t}))}(n),c=r.filter((function(e){return"expense"===e.type})).map((function(e){return e.amount})).reduce((function(e,t){return parseInt(e)+parseInt(t)}),0),o=r.filter((function(e){return"income"===e.type})).map((function(e){return e.amount})).reduce((function(e,t){return parseInt(e)+parseInt(t)}),0);return{month:t,expenses:c,incomes:o,name:a,balance:o-c}};return Object(g.jsx)(we.a,{align:"center",children:Object(g.jsxs)(st,{elevation:10,children:[Object(g.jsx)(we.a,{align:"center",children:Object(g.jsx)(it,{variant:"h4",children:"Monthly Trends"})}),Object(g.jsx)(rt,{data:ct.map((function(e){return t(e.name.slice(0,3),e.sequence,e.name)}))}),Object(g.jsx)(we.a,{children:Object(g.jsx)(ot,{component:T.b,variant:"contained",color:"secondary",to:"/",children:"back"})})]})})},jt=n(243),lt=["component"];function bt(e){var t=e.component,n=Object(jt.a)(e,lt),a=y().currentUser;return Object(g.jsx)(P.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return a?Object(g.jsx)(t,Object(d.a)({},e)):Object(g.jsx)(P.a,{to:"/signin"})}}))}var ut=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,458)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(T.a,{basename:"/jfddr3-money-control-app",children:Object(g.jsx)(P.d,{children:Object(g.jsxs)(v,{children:[Object(g.jsx)(bt,{exact:!0,path:"/",component:fe}),Object(g.jsx)(bt,{exact:!0,path:"/add-entry",component:He}),Object(g.jsx)(bt,{exact:!0,path:"/trends",component:dt}),Object(g.jsx)(P.b,{path:"/signup",component:Me}),Object(g.jsx)(P.b,{path:"/signin",component:Pe})]})})})}),document.getElementById("root")),ut()}},[[401,1,2]]]);
//# sourceMappingURL=main.72feeccd.chunk.js.map