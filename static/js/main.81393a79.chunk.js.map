{"version":3,"sources":["config/firebase.js","contexts/AuthContext.js","views/Dashboard/Dashboard.js","views/SignIn/SignIn.js","views/SignUp/SignUp.js","components/Entry.js","components/EntriesList.js","views/MockDashboard/MockDashboard.js","views/AddEntry/AddEntry.js","components/PrivateRoute.js","reportWebVitals.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","auth","database","storage","entries","collection","formatDoc","doc","id","data","getCurrentTimestamp","FieldValue","serverTimestamp","AuthContext","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","signUp","email","password","createUserWithEmailAndPassword","signIn","signInWithEmailAndPassword","signOut","Provider","styled","Avatar","div","Container","Button","p","Dashboard","StyledButton","StyledAvatar","StyledTextField","TextField","StyledPaper","Paper","MockAlert","SignIn","error","setError","history","useHistory","e","a","preventDefault","target","push","Grid","align","elevation","Typography","variant","onSubmit","name","label","helperText","required","type","color","disabled","to","SignUp","serverError","setServerError","inputError","setInputError","handleSubmit","passwordConfirm","AmountText","ListItemText","props","Entry","entry","ListItem","divider","category","note","date","amount","IconButton","component","Link","pathname","state","operation","options","onClick","delete","EntriesList","map","MockDashboard","setEntries","where","uid","onSnapshot","snapshot","entriesData","forEach","Form","form","AddEntry","dataLink","useLocation","setCategory","setNote","setAmount","setDate","add","userId","createdAt","set","onChange","placeholder","min","maxLength","option","key","PrivateRoute","Component","rest","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","basename","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.81393a79.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/storage';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyB8mOz9VkGizAZvyZCWOnMyDhETCi8o5WE',\n  authDomain: 'moneycontrol-eed33.firebaseapp.com',\n  projectId: 'moneycontrol-eed33',\n  storageBucket: 'moneycontrol-eed33.appspot.com',\n  messagingSenderId: '176388755167',\n  appId: '1:176388755167:web:cfff45c60f74d7a322a36a'\n};\n\nconst app = firebase.initializeApp(firebaseConfig);\n\nexport const firestore = app.firestore();\nexport const auth = app.auth();\nexport const storage = app.storage();\n\nexport const database = {\n  entries: firestore.collection('entries'),\n  formatDoc: doc => {\n    return {\n      id: doc.id,\n      ...doc.data()\n    };\n  },\n  getCurrentTimestamp: firebase.firestore.FieldValue.serverTimestamp\n};\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { auth } from '../config/firebase';\n\nconst AuthContext = createContext();\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState();\n  const [loading, setLoading] = useState(true);\n\n  function signUp(email, password) {\n    return auth.createUserWithEmailAndPassword(email, password);\n  }\n\n  function signIn(email, password) {\n    return auth.signInWithEmailAndPassword(email, password);\n  }\n\n  function signOut() {\n    return auth.signOut();\n  }\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const value = {\n    currentUser,\n    signUp,\n    signIn,\n    signOut\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useHistory } from 'react-router-dom';\nimport { Container, Button, Avatar } from '@material-ui/core';\n\nimport LockOpenOutlinedIcon from '@material-ui/icons/LockOpenOutlined';\n\nconst StyledAvatar = styled(Avatar)`\n  background-color: #156a77;\n  margin-right: 10px;\n`;\n\nconst StyledPageTitle = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst StyledContainer = styled(Container)`\n  border: 1px solid #000;\n  width: 50% !important;\n  text-align: center;\n  & > * {\n    margin: 2px;\n  }\n  button {\n    margin: 16px;\n    background-color: #156a77;\n  }\n`;\n\nconst StyledLogout = styled(Button)`\n  background-color: #156a77;\n`;\n\nconst StyledBox = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 35px;\n  h3 {\n    margin: 0;\n    padding: 0px 0;\n    text-align: left;\n  }\n`;\n\nconst StyledButtons = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-direction: row;\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\nconst MockAlert = styled.p`\n  color: red;\n`;\n\nfunction Dashboard() {\n  const [error, setError] = useState('');\n  const { currentUser, signOut } = useAuth();\n  const history = useHistory();\n\n  async function handleSignOut() {\n    setError('');\n\n    try {\n      await signOut();\n      history.push('/signin');\n    } catch {\n      setError('Failed to log out');\n    }\n  }\n\n  return (\n    <StyledContainer>\n      <StyledBox>\n        <div>\n          <StyledPageTitle>\n            <StyledAvatar>\n              <LockOpenOutlinedIcon />\n            </StyledAvatar>\n            <h3>Money Control</h3>\n          </StyledPageTitle>\n          <h3>welcome: {currentUser.email}</h3>\n          {error && <MockAlert>{error}</MockAlert>}\n        </div>\n        <StyledLogout\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleSignOut}\n        >\n          logout\n        </StyledLogout>\n      </StyledBox>\n      <h3>\n        {' '}\n        <p>&laquo;</p> Month <p>&raquo;</p>\n      </h3>\n      <h3> no current records</h3>\n      <StyledButtons>\n        <Button variant=\"contained\" color=\"primary\" disableElevation>\n          new expense\n        </Button>\n        <Button variant=\"contained\" color=\"primary\" disableElevation>\n          new income\n        </Button>\n      </StyledButtons>\n    </StyledContainer>\n  );\n}\n\nexport default Dashboard;\n","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport {\n  Grid,\n  Paper,\n  Avatar,\n  TextField,\n  Button,\n  Typography\n} from '@material-ui/core';\nimport LockOpenOutlinedIcon from '@material-ui/icons/LockOpenOutlined';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst StyledButton = styled(Button)`\n  margin: 10px;\n  background-color: #156a77;\n`;\n\nconst StyledAvatar = styled(Avatar)`\n  background-color: #156a77;\n`;\n\nconst StyledTextField = styled(TextField)`\n  margin: 1rem;\n  width: '25ch';\n`;\n\nconst StyledPaper = styled(Paper)`\n  padding: 20px;\n  height: 50vh;\n  width: 280px;\n  margin: 20px auto;\n`;\n\nconst MockAlert = styled.p`\n  color: red;\n`;\n\nconst SignIn = () => {\n  const { signIn } = useAuth();\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      setError('');\n      setLoading(true);\n      await signIn(e.target.email.value, e.target.password.value);\n      history.push('/');\n    } catch {\n      setError('Failed to sign in');\n      setLoading(false);\n    }\n  }\n\n  return (\n    <Grid align=\"center\">\n      <StyledPaper elevation={10}>\n        <Grid align=\"center\">\n          <StyledAvatar>\n            <LockOpenOutlinedIcon />\n          </StyledAvatar>\n          <Typography variant=\"h4\">Sign In</Typography>\n        </Grid>\n        {error && <MockAlert>{error}</MockAlert>}\n        <form onSubmit={handleSubmit}>\n          <StyledTextField\n            id=\"email\"\n            name=\"email\"\n            label=\"E-mail\"\n            variant=\"outlined\"\n            helperText=\"\"\n            required\n          />\n          <StyledTextField\n            id=\"password\"\n            name=\"password\"\n            label=\"Password\"\n            variant=\"outlined\"\n            type=\"password\"\n            required\n          />\n          <Grid>\n            <StyledButton\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={loading}\n            >\n              Sign In\n            </StyledButton>\n            <Typography>\n              Need an account? <Link to=\"/signup\">Sign Up</Link>\n            </Typography>\n          </Grid>\n        </form>\n      </StyledPaper>\n    </Grid>\n  );\n};\n\nexport default SignIn;\n","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport {\n  Grid,\n  Paper,\n  Avatar,\n  TextField,\n  Button,\n  Typography\n} from '@material-ui/core';\nimport LockOpenOutlinedIcon from '@material-ui/icons/LockOpenOutlined';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst StyledButton = styled(Button)`\n  margin: 10px;\n  background-color: #156a77;\n`;\n\nconst StyledAvatar = styled(Avatar)`\n  background-color: #156a77;\n`;\n\nconst StyledTextField = styled(TextField)`\n  margin: 1rem;\n  width: '25ch';\n`;\n\nconst StyledPaper = styled(Paper)`\n  padding: 20px;\n  height: 50vh;\n  width: 280px;\n  margin: 20px auto;\n`;\n\nconst MockAlert = styled.p`\n  color: red;\n`;\n\nconst SignUp = () => {\n  const { signUp } = useAuth();\n  const [serverError, setServerError] = useState('');\n  const [inputError, setInputError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setInputError('');\n\n    if (e.target.password.value !== e.target.passwordConfirm.value) {\n      return setInputError('Passwords do not match');\n    }\n\n    try {\n      setServerError('');\n      setLoading(true);\n      await signUp(e.target.email.value, e.target.password.value);\n      history.push('/');\n    } catch {\n      setServerError('Failed to create an account');\n      setLoading(false);\n    }\n  }\n\n  return (\n    <Grid align=\"center\">\n      <StyledPaper elevation={10}>\n        <Grid align=\"center\">\n          <StyledAvatar>\n            <LockOpenOutlinedIcon />\n          </StyledAvatar>\n          <Typography variant=\"h4\">Sign Up</Typography>\n        </Grid>\n        {serverError && <MockAlert>{serverError}</MockAlert>}\n        <form onSubmit={handleSubmit}>\n          <StyledTextField\n            id=\"email\"\n            name=\"email\"\n            label=\"E-mail\"\n            variant=\"outlined\"\n            helperText=\"\"\n            type=\"email\"\n            required\n          />\n          <StyledTextField\n            id=\"password\"\n            name=\"password\"\n            label=\"Password\"\n            variant=\"outlined\"\n            type=\"password\"\n            required\n            helperText={inputError}\n            error={inputError ? true : false}\n          />\n          <StyledTextField\n            id=\"password-confirm\"\n            name=\"passwordConfirm\"\n            label=\"Password Confirmation\"\n            variant=\"outlined\"\n            type=\"password\"\n            required\n            helperText={inputError}\n            error={inputError ? true : false}\n          />\n          <Grid>\n            <StyledButton\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              onSubmit={handleSubmit}\n              disabled={loading}\n            >\n              Sign Up\n            </StyledButton>\n            <Typography>\n              Already have an account? <Link to=\"/signin\">Sign In</Link>\n            </Typography>\n          </Grid>\n        </form>\n      </StyledPaper>\n    </Grid>\n  );\n};\n\nexport default SignUp;\n","import React from 'react';\nimport { database } from '../config/firebase';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { IconButton, ListItem, ListItemText } from '@material-ui/core';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport UpdateIcon from '@material-ui/icons/Update';\n\nconst AmountText = styled(ListItemText)(props => ({\n  color: props.color\n}));\n\nexport const Entry = ({ entry }) => {\n  const onDelete = () => {\n    database.entries.doc(entry.id).delete();\n  };\n\n  return (\n    <ListItem divider>\n      <ListItemText>{entry.category}</ListItemText>\n      <ListItemText>{entry.note}</ListItemText>\n      <ListItemText>{entry.date}</ListItemText>\n      <AmountText color={entry.type === 'income' ? 'green' : 'red'}>\n        {entry.amount} PLN\n      </AmountText>\n      {entry.type === 'income' ? (\n        <IconButton\n          component={Link}\n          color=\"primary\"\n          to={{\n            pathname: '/add-entry',\n            state: {\n              entry,\n              operation: 'Update',\n              type: 'income',\n              options: ['Work', 'Gifts', 'Other']\n            }\n          }}\n        >\n          <UpdateIcon />\n        </IconButton>\n      ) : (\n        <IconButton\n          component={Link}\n          color=\"primary\"\n          to={{\n            pathname: '/add-entry',\n            state: {\n              entry,\n              operation: 'Update',\n              type: 'expense',\n              options: [\n                'Food',\n                'Transport',\n                'Accomodation',\n                'Entertainment',\n                'Other'\n              ]\n            }\n          }}\n        >\n          <UpdateIcon />\n        </IconButton>\n      )}\n      <IconButton onClick={onDelete}>\n        <HighlightOffIcon color=\"secondary\" />\n      </IconButton>\n    </ListItem>\n  );\n};\n","import React from 'react';\nimport { Entry } from './Entry';\n\nexport const EntriesList = ({ entries }) => {\n  return (\n    <ul>\n      {entries.map(entry => (\n        <Entry key={entry.id} entry={entry} />\n      ))}\n    </ul>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Container, Typography, Button } from '@material-ui/core';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useHistory, Link } from 'react-router-dom';\nimport { EntriesList } from '../../components/EntriesList';\nimport { database } from '../../config/firebase';\n\nfunction MockDashboard() {\n  const [error, setError] = useState('');\n  const { currentUser, signOut } = useAuth();\n  const history = useHistory();\n  const [entries, setEntries] = useState([]);\n\n  async function handleSignOut() {\n    setError('');\n\n    try {\n      await signOut();\n      history.push('/signin');\n    } catch {\n      setError('Failed to log out');\n    }\n  }\n\n  useEffect(() => {\n    const unsubscribe = database.entries\n      .where('userId', '==', currentUser.uid)\n      .onSnapshot(snapshot => {\n        const entriesData = [];\n        snapshot.forEach(doc =>\n          entriesData.push({\n            ...doc.data(),\n            id: doc.id\n          })\n        );\n        setEntries(entriesData);\n      });\n    return unsubscribe;\n  }, [currentUser.uid]);\n\n  return (\n    <Container>\n      {error && <p>{error}</p>}\n      <Typography>MockDashboard</Typography>\n      <Typography>Welcome: {currentUser.email}</Typography>\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSignOut}>\n        wyloguj\n      </Button>\n      <EntriesList entries={entries} />\n      <div>\n        <Link\n          to={{\n            pathname: '/add-entry',\n            state: {\n              operation: 'Add',\n              type: 'income',\n              options: ['Work', 'Gifts', 'Other']\n            }\n          }}\n        >\n          Add Income\n        </Link>\n      </div>\n      <Link\n        to={{\n          pathname: '/add-entry',\n          state: {\n            operation: 'Add',\n            type: 'expense',\n            options: [\n              'Food',\n              'Transport',\n              'Accomodation',\n              'Entertainment',\n              'Other'\n            ]\n          }\n        }}\n      >\n        Add Expense\n      </Link>\n    </Container>\n  );\n}\n\nexport default MockDashboard;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { database } from '../../config/firebase';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\n\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst AddEntry = () => {\n  const { currentUser } = useAuth();\n  const dataLink = useLocation();\n  const history = useHistory();\n  const [category, setCategory] = useState(\n    dataLink.state.operation === 'Add' ? '0' : dataLink.state.entry.category\n  );\n  const [note, setNote] = useState(\n    dataLink.state.operation === 'Add' ? '' : dataLink.state.entry.note\n  );\n  const [amount, setAmount] = useState(\n    dataLink.state.operation === 'Add' ? '' : dataLink.state.entry.amount\n  );\n  const [date, setDate] = useState(\n    dataLink.state.operation === 'Add' ? '' : dataLink.state.entry.date\n  );\n\n  const handleCreate = e => {\n    e.preventDefault();\n    database.entries.add({\n      userId: currentUser.uid,\n      createdAt: database.getCurrentTimestamp(),\n      type: dataLink.state.type,\n      date: e.target.date.value,\n      amount: e.target.amount.value,\n      note: e.target.note.value,\n      category: e.target.category.value\n    });\n    history.push('/');\n  };\n\n  const handleUpdate = e => {\n    e.preventDefault();\n    database.entries.doc(dataLink.state.entry.id).set({\n      ...dataLink.state.entry,\n      category,\n      note,\n      amount,\n      date\n    });\n    history.push('/');\n  };\n\n  return (\n    <section>\n      <h3>\n        {dataLink.state.operation} {dataLink.state.type}\n      </h3>\n      <Form\n        onSubmit={\n          dataLink.state.operation === 'Add' ? handleCreate : handleUpdate\n        }\n      >\n        <input\n          type=\"date\"\n          name=\"date\"\n          required\n          value={date}\n          onChange={e => {\n            setDate(e.target.value);\n          }}\n        />\n        <input\n          type=\"number\"\n          placeholder=\"Amount\"\n          name=\"amount\"\n          required\n          min=\"0\"\n          value={amount}\n          onChange={e => {\n            setAmount(e.target.value);\n          }}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Note\"\n          name=\"note\"\n          maxLength=\"20\"\n          required\n          value={note}\n          onChange={e => {\n            setNote(e.target.value);\n          }}\n        />\n        <select\n          value={category}\n          onChange={e => {\n            setCategory(e.target.value);\n          }}\n          name=\"category\"\n          required\n        >\n          <option value=\"0\" disabled>\n            --Category--\n          </option>\n          {dataLink.state.options.map((option, key) => (\n            <option key={key} value={option}>\n              {option}\n            </option>\n          ))}\n        </select>\n        <button type=\"submit\">Submit</button>\n      </Form>\n      <Link to=\"/\">Cancel</Link>\n    </section>\n  );\n};\n\nexport default AddEntry;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nexport default function PrivateRoute({ component: Component, ...rest }) {\n  const { currentUser } = useAuth();\n\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        return currentUser ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/signin\" />\n        );\n      }}\n    />\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { SignUp, SignIn, MockDashboard, AddEntry } from './views';\nimport { AuthProvider } from './contexts/AuthContext.js';\nimport PrivateRoute from './components/PrivateRoute';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nconst BASE_NAME = '/jfddr3-money-control-app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename={BASE_NAME}>\n      <Switch>\n        <AuthProvider>\n          <PrivateRoute exact path=\"/\" component={MockDashboard} />\n          <PrivateRoute exact path=\"/add-entry\" component={AddEntry} />\n          <Route path=\"/signup\" component={SignUp} />\n          <Route path=\"/signin\" component={SignIn} />\n        </AuthProvider>\n      </Switch>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}